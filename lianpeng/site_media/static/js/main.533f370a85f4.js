(function(){var b;$(".search").submit(function(){var i=$(this).find(".query").val();var h=$(this).attr("action")+i;if(b){b.navigate(h,{trigger:true})}else{window.location.href=h}return false});$("#feedback .confirm").click(function(){if($(this).hasClass("disabled")){return false}$(this).addClass("disabled");var i=$("#feedback textarea").val();var h={text:i};h=JSON.stringify(h);$.ajax({url:"/api/v1/feedback/",data:h,type:"POST",contentType:"application/json",dataType:"application/json"}).complete(function(){$("#feedback textarea").hide();$("#feedback .success").show()});return false});$("#feedback").on("hidden",function(){$("#feedback textarea").val("");$("#feedback .confirm").removeClass("disabled");$("#feedback textarea").show();$("#feedback .success").hide()});F={fetch_title:function(h,i){$.post("/harvest/pageinfo/",{url:h},i)},url_domain:function(i){var h=document.getElementById("url-template");h.href=i;var j=h.hostname;if(h.port&&h.port!=80){j+=":"+h.port}return j},form2json:function(i){var j={};var h=$(i).serializeArray();$.each(h,function(){if(j[this.name]!==undefined){if(!j[this.name].push){j[this.name]=[j[this.name]]}j[this.name].push(this.value||"")}else{j[this.name]=this.value||""}});return j},show_paginator:function(h,j,k){var i=h;if(i.collection.total_count>i.collection.paginationConfig.ipp){i.$(".paginator").pagination({total_pages:Math.ceil(i.collection.total_count/i.collection.paginationConfig.ipp),current_page:i.collection.currentPage,display_max:j,callback:function(l,m){k();i.collection.loadPage(m)}}).show()}else{i.$(".paginator").hide()}}};$.fn.spin=function(h){this.each(function(){var j=$(this),i=j.data();if(i.spinner){i.spinner.stop();delete i.spinner}if(h!==false){i.spinner=new Spinner($.extend({color:j.css("color")},h)).spin(this)}});return this};var a="/api/v1/user/"+USER_ID;var g=Backbone.Model.extend({urlRoot:"/api/v1/bookmark/"});var e=Backbone.Collection.extend({parse:function(h){this.total_count=h.meta.total_count;return h.objects}});var d=Backbone.Model.extend({urlRoot:"/api/v1/list/"});var c=d.extend({});var f=e.extend({model:d,initialize:function(){Backbone.Pagination.enable(this,{page_attr:"offset",ipp:100,ipp_attr:"limit"})},baseUrl:"/api/v1/list/"})}).call(this);